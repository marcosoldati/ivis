(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon"],{"0BOE":function(e,t,n){n.d(t,"a",(function(){return o}));const a={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},r=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=a[e.charAt(n)]||e.charAt(n);return t},o=(e,t,n="name")=>{const a=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),a=e.split(" ");let o=0;for(let i=0;i<a.length;i+=1){(r(a[i]).includes(n[o])||a[i].includes(n[o]))&&(o+=1)}return o===n.length})(e[n].toLowerCase(),a))}},"0bYG":function(e,t){e.exports={ReasonToChoose:{UNKNOWN:0,REPIN_BOARD:1,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,USER_ACTIVITY:4,FOLLOWED_INTEREST:5,RECENT_FOLLOWED_INTEREST:59,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,CLICKTHROUGH:9,BOARD_FOLLOW:35,RECENT_FOLLOWED_BOARD:61,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,LOCAL_REPIN_BOARD:13,SEARCH:46,P2P:14,PROMOTED_PIN:15,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_COMMERCE:21,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLICKTHROUGH:28,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,INSTANT_PFY:34,INSTANT_PFY_NON_MATERIALIZABLE:36,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,RECOMMENDED_TOPICS:65,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS:70,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,NAVBOOST_P2P:88,NAVBOOST_PFY:89,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GEMINI_INTERESTS_FRESH:104,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,LENS_CAMERA_VISUALLY_SIMILAR:111,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,NOTIFICATION_NEWS_HUB:138,PIXIE_P2P:142,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516}}},"2WXK":function(e,t,n){var a=n("q1tI");let r=null,o=!1,i=0;const s=()=>{r&&clearTimeout(r),o=!0,r=setTimeout(()=>{o=!1},100)};t.a=()=>{const[e,t]=Object(a.useState)(!1),n=Object(a.useRef)(null);Object(a.useEffect)(()=>(0===i&&window.addEventListener("scroll",s),i+=1,()=>{n.current&&clearTimeout(n.current),(i-=1)||window.removeEventListener("scroll",s)}),[]);const r=e=>{n.current&&clearTimeout(n.current),n.current=e&&o?setTimeout(()=>r(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(a.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},"2qKt":function(e,t,n){var a=n("q1tI"),r=n("/MKj"),o=(n("17x9"),n("/5zs")),i=n("Vzit"),s=n("vh5K"),c=n("pLLR"),l=n("fArA");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1};t.a=(e,t={},n)=>h=>{const p=function(e){return t=>{return{experience:t.experiences.eligibleExperiences[e]}}}(e);n=Object.assign({},u,n);const _=function(e,t,n=!0,r=!0,c){return class extends a.Component{constructor(e){super(e),d(this,"state",{extraContext:void 0}),d(this,"setExtraContextState",e=>this.setState({extraContext:e}))}componentDidMount(){this.dispatchPlacementMount(!1)}UNSAFE_componentWillUpdate(n,a){const{dispatch:r,experience:c,requestContext:l}=n,d=new o.c(l,"web_bypass_eligible_experience").enabledWithNoActivation();let u=t;if(d&&"function"==typeof t){const o=t(this.props,this.state);u=t(n,a.extraContext||{}),JSON.stringify(o)!==JSON.stringify(u)&&r(Object(i.c)(e,u,d))}else{if("function"==typeof t){const e=a.extraContext||{};u=t(n,e)}if(!Object(s.d)(c)&&"function"==typeof t&&u&&Object.keys(u).length){const n=t(this.props,this.state);JSON.stringify(n)!==JSON.stringify(u)&&r(Object(i.c)(e,u))}}!c||this.props.experience&&c.id===this.props.experience.id||r(Object(i.i)(e,u))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(i.k)(e))}dispatchPlacementMount(n){const{dispatch:a,requestContext:r}=this.props;let s={};s="function"==typeof t?t(this.props,this.state):Object.assign({},t);const c=!n&&new o.c(r,"web_bypass_eligible_experience").enabled();a(Object(i.j)(e,s,n,c))}render(){const{experience:e}=this.props;return a.createElement(c,Object.assign({},this.props,{setPlacementExtraContext:this.setExtraContextState,experience:Object(s.d)(e)?e:null}))}}}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,h);return Object(l.compose)(c.f,Object(r.connect)(p))(_)}},"3z7j":function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("Wer7");function r(e,t){return n=>n(Object(a.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("qtKf"),r=n("Pqnw"),o=n("Wer7");const i=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,mixPublicSecret:t,username:n})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",username:n,page_size:25,group_by:t?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>i.reduce((t,n)=>{const i=[Object(r.a)("profileBoards",Object(a.c)(e,n))];return[!0,!1].forEach(t=>{i.push(Object(o.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t})))}),t.concat(i)},[])},"8cMa":function(e,t,n){var a=n("q1tI"),r=n("Ye/N"),o=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:r.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:r.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"lock"},secret:{accessibilityLabel:r.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:r.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:r.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return a.createElement(o.c,{marginStart:1},a.createElement(o.c,{marginStart:2},"sections"===e||"sectionsInline"===e?a.createElement(o.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):a.createElement(o.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})))}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return i}));const a={row:0,section:0},r={row:-1,section:-1},o=()=>void 0;class i{constructor(e){this.index=Object.assign({},a),this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index=Object.assign({},a):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index=Object.assign({},a);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},r),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},Ev07:function(e,t,n){var a=n("m2Wt"),r=n("h4v/"),o=n("1inl"),i=n("UTsl"),s=n("LqyK"),c=n("4dcN"),l=n("Ye/N"),d=n("28DW"),u=n("mBfy");const h={checkFbTimelinePermission:function(e){i.default.ensureInit((function(t){t.api("/me/permissions",t=>{const n=t.data;let a=!1;if(n){a=!!n.find(e=>"publish_actions"===e.permission&&"granted"===e.status)}a?e.success&&e.success():e.error&&e.error()})}),u.default)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){i.default.ensureInit(n=>{if(!h.fbConnectedAccountMatchesLoggedInAccount(n,t))return o.a.showError(l.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());h.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){h.fbLogin(e)}})},u.default)},fbLogin:function(e){i.default.ensureInit(t=>{t.login(t=>{t.authResponse?h.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:"publish_actions"})},u.default)},shareFb:function(e){const t=e.ga_category||"share_facebook";c.a.trackEvent(t,"click");const n=e.dialog_options||{};n.callback=function(){const t=a.a.fromEventType(1300);e.object_id&&t.setObjectIdStr(e.object_id),r.a.getInstance().addEvent(t)};const o=n.object_type;o&&Object(d.a)("facebook_share_dialog_open_"+o),s.default.open(n)},getLocaleString:function(e){let t=e;switch(t=t.replace(/-/g,"_")){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US"}return t.startsWith("es")&&(t="es_LA"),t.startsWith("ar")&&(t="ar_AR"),t}};t.a=h},GBVV:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n("q1tI"),r=n("n6mq");const o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function i(){return a.createElement(r.c,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8},a.createElement(r.c,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18}))}function s({accessibilityExpanded:e,accessibilityHaspopup:t,accessibilityLabel:n,disabled:o,name:s,onClick:c,selected:l,size:d,submitting:u,text:h,textColor:p}){return a.createElement(r.c,{display:"flex",position:"relative"},u&&a.createElement(i,null),a.createElement(r.d,{accessibilityExpanded:e,accessibilityHaspopup:t,accessibilityLabel:n,color:"red",disabled:o||u,inline:!0,name:s,onClick:c,selected:l,size:d,textColor:p,type:"submit",text:h}))}},IBrh:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),r=n("i8i4"),o=n.n(r),i=n("mEMi"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.Component{constructor(e,t){super(e,t),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>({event:t})=>{const{disabled:n,indexManager:a}=this.props;n||a.updateIndex(e)}),c(this,"handleMouseLeave",({event:e})=>{const{disabled:t,indexManager:n}=this.props;t||n.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:r}=this.state,{row:o,section:i}=r||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:u=(e=>!1)}=c,h=t===i,p=d||n;return p&&l.map((e,n)=>{const r=u(e),i={section:t,row:n},l=h&&n===o;return a.createElement("div",{"data-test-id":"board-selection",key:n,ref:!r&&l&&this.setSelectedItemRef},r?p({item:e,hovered:l,sectionProps:c}):a.createElement(s.P,{onMouseEnter:this.handleMouseEnter(i),onMouseLeave:this.handleMouseLeave,onTouch:this.handleSelectItem(e),fullWidth:!1,rounding:2},p({item:e,hovered:l,sectionProps:c})))})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>a.createElement(s.c,{key:n},e&&e(t,n),this.renderItems(t,n)))});const{indexManager:n}=this.props;this.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=o.a.findDOMNode(this.selectedItemRef);if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),a=n.top,r=n.bottom,i=t.getBoundingClientRect(),s=i.top;r>=i.bottom?e.scrollIntoView(!1):a<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return a.createElement(i.a,{fetchMore:n},({setRef:n,onScroll:r})=>a.createElement(s.c,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:r,overflow:"auto",ref:e=>{this.containerRef=e,n(e)}},this.renderSections()))}}},MhBu:function(e,t,n){function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return a}))},NdQN:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("i8i4"),i=n.n(o),s=n("JW66"),c=n("Ye/N"),l=(n("9QW3"),n("n6mq"));t.a=class extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case s.a.KeyCode.ENTER:case s.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case s.a.KeyCode.UP:e.preventDefault(),n.prev();break;case s.a.KeyCode.DOWN:e.preventDefault(),n.next()}},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){const e=this._input;if(e){const t=i.a.findDOMNode(e);if(t instanceof HTMLElement){const e=t.querySelector("input");e&&e.focus()}}}render(){const{onChange:e,value:t}=this.props;return r.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},r.a.createElement(l.D,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:c.a._("Search","search bar placeholder text","search bar placeholder text"),ref:e=>{this._input=e},size:"lg",value:t}))}}},NjDU:function(e,t,n){function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function i(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}))},P6kd:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("oRao"),s=n("eOdZ"),c=n("vxan"),l=n("vvax"),d=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=5,p=27,_=38,m=40,E=13;t.a=Object(c.a)(class extends r.a.Component{constructor(...e){super(...e),u(this,"state",{isOpen:this.props.editing,recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{this.setState({isOpen:!1})}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{e.keyCode===_?this.handlePrevHashtag(e):e.keyCode===m?this.handleNextHashtag(e):e.keyCode===p?this.handleClose(e):e.keyCode===E&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(s.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,h),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}UNSAFE_componentWillReceiveProps(e){e.query!==this.props.query&&""!==e.query&&this.callResource(e.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:a,idealDirection:s}=this.props,c=e.filter(e=>e.query),u=s||"down",h="flyout_"+c.length;return t&&c.length>0?r.a.createElement("div",{className:"HashtagFlyout"},r.a.createElement(d.k,{key:h,anchor:a,idealDirection:u,onDismiss:this.onDismiss,size:"sm"},r.a.createElement("div",{className:"HashtagRecommendations"},c.length>0?c.map((e,t)=>r.a.createElement("div",{className:"HashtagItem",key:e.query},r.a.createElement(d.P,{onTouch:t=>this.addHashtag(e.query),fullWidth:!1},r.a.createElement(d.c,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1},r.a.createElement(d.c,{flex:"grow"},r.a.createElement(d.K,{inline:!0,size:"md",weight:"bold"},e.query)),r.a.createElement(d.c,{flex:"none"},r.a.createElement(d.K,{inline:!0,size:"sm"},Object(l.b)(o.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:r.a.createElement(i.a,{value:Number(e.pin_count),key:"pinCount"})}))))))):null))):null}})},PNKV:function(e,t,n){},Pqnw:function(e,t,n){function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return a}))},QoKk:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=(n("w/op"),n("Ye/N")),i=n("rYoy"),s=n("n6mq");const c=["es-AR","es-BZ","es-BO","pt-BR","en-CA","es-CL","zh-CN","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","zh-HK","he","en-JM","ja","en-KE","zh-MO","es-MX","es-NI","es-PA","es-PE","en-PH","es-PR","en-ZA","ko","zh-TW","en-US","es-VE"];var l=n("pLLR");const d=Object(a.lazy)(()=>n.e(9).then(n.t.bind(null,"sQeT",7))),u=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();var h=Object(l.f)((function({onSelectedDate:e,selectedDates:t,requestContext:n}){return r.a.createElement(i.a,null,r.a.createElement(d,{calendarType:c.includes(n.locale)?"US":"ISO 8601",locale:n.locale||"",className:"DatePicker",enableHistoryView:!1,onClickDay:n=>{1===t.length&&t[0]<n?e([t[0],n]):e([n])},minDetail:"month",nextLabel:r.a.createElement(s.n,{accessibilityLabel:o.a._("Next month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to next calendar month"),icon:"arrow-forward"}),next2Label:null,prevLabel:r.a.createElement(s.n,{icon:"arrow-back",accessibilityLabel:o.a._("Previous month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to previous calendar month")}),prev2Label:null,tileClassName:({date:e})=>{const n=[],[a,r]=t;return a&&u(e,a)?(n.push("start"),r&&n.push("rangeStart")):r&&u(e,r)?n.push("rangeEnd"):2===t.length&&e>=a&&e<=r&&n.push("inRange"),n},value:t.length?t:new Date,view:"month"}))})),p=n("TiQD");const _=356;t.a=Object(l.f)((function({dates:e,onChange:t,onToggleFlyout:n,requestContext:i}){const c=Object(a.useRef)(null),[l,d]=Object(a.useState)(!1),[u,m]=Object(a.useState)(e||[]),[E,b]=u||[];let I=E&&E.toLocaleDateString(i.locale)||"";if(b){I+=" - "+u[1].toLocaleDateString(i.locale)}const f=()=>{n(),d(!l)};return r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:{position:"relative"},ref:c},r.a.createElement(s.M,{autoComplete:"off",id:"boardEditDate",onChange:()=>{},onFocus:f,onKeyDown:({event:e})=>{"Backspace"===e.key&&(m([]),t([]))},placeholder:o.a._("Select start and end","BoardForm.BoardFormDateField","placeholder for input field to enter board end and start dates"),size:"lg",value:I}),r.a.createElement(s.c,{position:"absolute",top:!0,right:!0,padding:4},r.a.createElement(s.n,{color:"darkGray",icon:"calendar",accessibilityLabel:o.a._("Select date","BoardForm.BoardFormDateField","accessibility label on calendar icon")}))),l&&r.a.createElement(s.r,null,r.a.createElement(s.c,{position:"absolute",top:!0,dangerouslySetInlineStyle:{__style:{zIndex:p.a}}},r.a.createElement(s.k,{anchor:c.current,idealDirection:"down",onDismiss:f,size:_,positionRelativeToAnchor:!1},r.a.createElement(s.c,{padding:6,width:_},r.a.createElement(h,{onSelectedDate:e=>{m(e),t(e)},selectedDates:u}))))))}))},R6wO:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends a.PureComponent{constructor(...e){super(...e),i(this,"state",{hovered:!1}),i(this,"handleMouseEnter",e=>this.setState({hovered:!0})),i(this,"handleMouseLeave",e=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:a,descriptionColor:i="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(o.c,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l},!c&&t&&r.a.createElement(o.c,{alignSelf:"center",flex:"none",padding:1},"unfollow"===t?r.a.createElement(o.n,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):r.a.createElement(o.n,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})),r.a.createElement(o.c,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%"},r.a.createElement(o.K,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal"},n),r.a.createElement(o.c,{alignItems:"center",display:"flex"},!c&&a&&r.a.createElement(o.c,{marginBottom:2,marginTop:1},r.a.createElement(o.K,{color:i,overflow:"normal",size:"sm"},a))))))}}i(c,"defaultProps",{bold:!0})},Sihc:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("Pqnw"),r=n("uVIr"),o=n("VqlB"),i=n("eOdZ"),s=n("oN2T"),c=n("KFEb"),l=n("Wer7");function d(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:h=[]}){let p=0;"RECOMMENDATION"===n?p=1:"EDITED_RECOMMENDATION"===n&&(p=2);const _={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:p};return t=>i.a.create("BoardSectionResource",_).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(d(e,n)),t(Object(r.a)({feedId:e,feedType:c.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(s.b)(e,"pin_count")),t(Object(l.f)("BoardSectionsRepinResource",{board_id:e}));const{all:i,pinIds:h}=u||{all:!1,pinIds:[]};return i?new Promise((a,r)=>t(Object(o.a)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}})).then(()=>a(n)).catch(r)):(h.length>0&&t(Object(a.a)(c.a.BOARD_PINS,e)),n)})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return _}));var a=n("3z7j"),r=n("Pqnw"),o=n("uVIr"),i=n("MhBu"),s=n("eOdZ"),c=n("oN2T"),l=n("KFEb"),d=n("gzTk");const u=e=>Object(r.a)(e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,e.sectionId||e.boardId);function h(e,t){const{source:n,target:r}=e;r.boardId!==n.boardId?(t(Object(c.b)(n.boardId,"pin_count")),t(Object(c.b)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t(Object(c.b)(r.boardId,"pin_count")),n.sectionId&&t(Object(a.a)(n.sectionId)),r.sectionId&&t(Object(a.a)(r.sectionId))}function p(e){return t=>{const{selectedPinIds:n,source:a,target:r}=e;t(Object(i.a)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(o.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),h(e,t)}}function _(e){return t=>(function(e,t){const{inverseSelection:n,selectedPinIds:a,source:r,target:c}=e;if(r.boardId===c.boardId&&(r.sectionId||null)===(c.sectionId||null))return Promise.reject();if(n){const e={board_id:r.boardId,new_board_id:c.boardId,old_section_id:r.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:a};return s.a.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(r)),t(u(c))])).catch(d.a)}{const e=(e,n)=>{t(Object(i.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:a,itemType:"pin"})),t(Object(o.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:a,itemType:"pin"}))};e(r,c);const n=()=>e(c,r);if(c.boardId===r.boardId){if(c.sectionId){const e={section_id:c.sectionId,pins:a};return s.a.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),Object(d.a)(e)})}{const e={section_id:r.sectionId,pins:a};return s.a.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),Object(d.a)(e)})}}{const e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:a};return s.a.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),Object(d.a)(e)})}}})(e,t).then(()=>h(e,t))}},VwDf:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>e.toISOString(),r=({currentEventStartDate:e,currentEventEndDate:t,initialEventStartDate:n,initialEventEndDate:r})=>{let o,i;return e&&t?(o=a(e),i=a(t)):t&&(i=a(t)),r&&!t&&(i=""),n&&!e&&(o=""),r&&a(new Date(r))===t&&(i=null),n&&a(new Date(n))===t&&(o=null),{eventEndDate:i,eventStartDate:o}}},WnNx:function(e,t,n){function a(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function r(){return{type:"HIDE_REPIN_ANIMATION"}}function o(){return{type:"SHOW_USECASE_FLYOUT"}}function i(){return{type:"HIDE_USECASE_FLYOUT"}}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}))},Wrea:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("Wer7");const r=(e,t)=>n=>n(Object(a.a)("BoardResource",{board_id:e,field_set_key:t})),o=e=>r(e,"pin_count"),i=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},ZE2w:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("4dcN"),r=n("eOdZ");const o="collaborator_approve_invite";function i(e,t){return r.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return r.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>{return r.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{a.a.trackEvent(o,"success")}).catch(()=>a.a.trackEvent(o,"error"))}}function l(e,t,n){return t=>{const{invited_user:a,status:o,board:{id:i}}=e;return r.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:i,field_set_key:"boardEdit",invited_user_id:a.id}).callDelete({showError:!1})}}},c50B:function(e,t,n){n.d(t,"n",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return b})),n.d(t,"r",(function(){return I})),n.d(t,"o",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"q",(function(){return S})),n.d(t,"s",(function(){return T}));const a=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((e,a)=>{const r=t[e];r&&(n[a]=r)}),n.join("")};function r(e){return function(t,n){const a=[];t&&/\S/.test(t)||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}const o=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function i(e){return function(t,n){const a=[];(t=t&&t.trim())&&!t.match(o)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function s(e){return function(t,n){const r=a(t.trim()),o=[];r&&""!==r&&r.length<2&&o.push(e.ageTooShortString);const i=Math.floor(parseInt(r,10));""===r||/^\d+$/.test(r)&&i>0&&i<300||o.push(e.invalidAgeString);const s={errors:o,warnings:[]};return n&&n(s),s}}function c(e){return function(t,n){const a=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),r=[],o=!1!==e.checkLength&&a.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||r.push(e.message);const i={errors:r,warnings:[]};return n&&n(i),i}}function l(e){return function(t,n){const r=/^\d+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(r)&&o.push(e.message));const i={errors:o,warnings:[]};return n&&n(i),i}}function d(e){return function(t,n){const r=/^[\d\ -]+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(r)&&o.push(e.message));const i={errors:o,warnings:[]};return n&&n(i),i}}function u(e){return function(t,n){const a=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function h(e){return function(t,n){const a=[];(e.should_trim||!1)&&(t=t&&t.trim());const r=t.length;e.min&&r<e.min?a.push(e.minErrorString):e.max&&r>e.max&&a.push(e.maxErrorString);const o={errors:a,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){const a=[];t!==(e&&e.targetValue)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function _(e){return function(t,n){t&&(t=parseFloat(t));const a=[];t<=e.value&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function m(e){return function(t,n){t&&(t=parseFloat(t));const a=[];t<e.value&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function E(e){return function(t,n){const a=[];/^[\040-\176]*$/.test(t)||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){const a=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(a)&&(t=t&&t.trim(),r.push(e.message));const o={errors:r,warnings:[]};return n&&n(o),o}}function I(e){return function(t,n){t=t&&t.trim();const a=[],r=new Date(t);t&&!r.getTime()&&a.push(e.message);const o={errors:a,warnings:[]};return n&&n(o),o}}function f(e){return function(t,n){const a=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){const a=[];e.pattern.test(t)||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function S(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function T(e,t){let n="";return t.some(t=>{const a=t(e);return a.errors.length>0&&(n=a.errors[0],!0)}),n}},dMCU:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("v/Q4"),s=n("+PUW");function c(e){const t=t=>{const n=Object(o.useDispatch)(),{isAuth:a,isLimitedLogin:c}=Object(i.a)(),l=!a||c?e=>e=>{e&&e.stopPropagation(),n(s.b)}:e=>e;return r.a.createElement(e,Object.assign({authAction:l,dispatch:n,isAuth:a,isLimitedLogin:c},t))};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,t}},gONw:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends a.Component{constructor(...e){super(...e),i(this,"state",{isHovering:!1}),i(this,"onHover",()=>{this.setState({isHovering:!0})}),i(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:a}=this.props;return a?r.a.createElement(o.c,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},r.a.createElement(o.c,null,r.a.createElement(o.u,{height:40,width:40,rounding:2},this.state.isHovering&&n?r.a.createElement(o.p,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):r.a.createElement(o.c,{color:"lightGray",height:40,width:40}))),r.a.createElement(o.c,{padding:2},r.a.createElement(o.m,{size:"sm"},e))):r.a.createElement(o.c,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},r.a.createElement(o.c,null,r.a.createElement(o.n,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})),r.a.createElement(o.c,{marginStart:3},r.a.createElement(o.K,{color:t?"darkGray":"gray",weight:"bold"},e)))}}var c=n("Ye/N"),l=n("U4JR"),d=n("zLLH"),u=n("oTtT");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=-1;class _ extends a.Component{constructor(e){super(e),h(this,"_processSuggestions",e=>e&&e.length?e.map(e=>e.title):[]),h(this,"handleClick",e=>{const{suggestedBoardsNames:t}=this.state,{onBoardSelected:n}=this.props;n(t[e],!1),Object(l.a)(101,{component:13025,element:23})}),h(this,"handleMouseEnter",e=>{this.setState({selectedIndex:e})}),h(this,"handleMouseLeave",()=>{this.setState({selectedIndex:p})}),h(this,"renderSuggestionRow",(e,t)=>{const n=this.state.selectedIndex===t;return r.a.createElement("li",{key:t},r.a.createElement(o.P,{onTouch:()=>this.handleClick(t),onMouseEnter:()=>this.handleMouseEnter(t),onMouseLeave:this.handleMouseLeave},r.a.createElement(s,{selected:n,name:e,inFlyoutExp:this.props.inFlyoutExp,image:this.props.image})))}),this.state={selectedIndex:p,suggestedBoardsNames:this._processSuggestions(e.boards.data)}}UNSAFE_componentWillReceiveProps(e){this.setState({suggestedBoardsNames:this._processSuggestions(e.boards.data)})}componentDidUpdate(e){const{inFirstBoardCreateGestaltExp:t,boards:n,error:a,boardPickerStopwatch:r}=this.props;!e.boards.isLoaded&&n.isLoaded&&t&&r&&(a?r.error():r.stop())}renderGestaltBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;c.a._("Suggested board names","text above suggested board names list","text above suggested board names list");return r.a.createElement(o.c,null,r.a.createElement(o.c,{marginTop:5,marginStart:6,marginBottom:3},r.a.createElement(o.K,null,c.a._("Suggested board names"))),r.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}renderPreviewBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;return r.a.createElement("div",null,r.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}render(){const{inFirstBoardCreateGestaltExp:e,inFlyoutExp:t,minHeight:n,boards:a}=this.props,{suggestedBoardsNames:i}=this.state;return a.isLoaded?i&&i.length?t?this.renderPreviewBoardSuggestionList():e?this.renderGestaltBoardSuggestionList():r.a.createElement(o.c,null,r.a.createElement(o.c,{marginTop:2,paddingX:5},r.a.createElement(o.K,null,c.a._("Suggested board names"))),r.a.createElement("ul",null,i.map(this.renderSuggestionRow))):null:r.a.createElement(o.c,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:n||""},r.a.createElement(o.G,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0}))}}t.a=Object(d.c)({name:"BoardTitleSuggestionsResource",options:({pinId:e})=>({pin_id:e}),key:"boards"})((function(e){const t=Object(u.b)();return r.a.createElement(_,Object.assign({},e,{boardPickerStopwatch:t}))}))},gdcG:function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=n.n(a),o=n("2WXK");function i(e){return function(t){const{isHovering:n,hoverHandlers:a}=Object(o.a)();return r.a.createElement(e,Object.assign({},t,{hoverHandlers:a,isHovering:n}))}}},gx0O:function(e,t,n){const a=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new a(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},t.a=r},gzTk:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("1inl"),r=n("Ye/N");const o=2171,i=2172,s=2173;function c(e){a.a.showError(function(e){switch(e.api_error_code){case o:case i:case s:return r.a._("Please wait until the previous board action finishes.");default:return e.message}}(e))}},jZhD:function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=(n("17x9"),n("pdBG"));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends a.Component{constructor(...e){super(...e),o(this,"searchCache",Object.create(null)),o(this,"lastSearchedQuery",null),o(this,"search",e=>{this.lastSearchedQuery=e,e in this.searchCache?this.props.onTypeaheadSuggestionsChange(this.searchCache[e],e):this.provider.search(e,({items:t})=>{this.searchCache[e]=t,e===this.lastSearchedQuery&&this.props.onTypeaheadSuggestionsChange(t,e)})})}componentDidMount(){const e=this.props.resourceOptions||{};this.provider=new r.a({resource_name:this.props.resourceName,...e});const{value:t}=this.props;null!=t&&this.props.allowSearchOnMount&&this.search(this.props.value)}UNSAFE_componentWillReceiveProps({value:e}){null!=e&&e!==this.props.value&&this.search(e)}render(){return this.props.children||null}}o(i,"defaultProps",{resourceName:"TypeaheadResource"})},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var a=n("q1tI"),r=n("8cMa"),o=n("JW66"),i=n("Ye/N"),s=n("n6mq");function c(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,r,o)=>{if(n.length>0&&e&&e.length){const i=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(a.createElement("em",{key:o,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},t.substring(i,i+e.length)),r)}return[r]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:l,isSelectMode:d,isWithinSectionPicker:u,saveState:h,searchQuery:p,selected:_}=e,m=l?null:n,E=l?n:null,b=E&&E.title||m&&m.name||"";let I="",f=!1,g="",S=0;m&&({image_cover_url:I,is_collaborative:f,privacy:g,section_count:S=0}=m);const T=c(p,b),O=g===o.a.BoardPrivacy.SECRET,R=!t&&(_||!!h),N=!u&&S>0,y=S>0?"boardWithSection":"boardWithoutSection",C=d?i.a._("Select","Board select button label","Board select button label"):i.a._("Save","Pin save button label","Pin save button label");return a.createElement(s.c,{alignItems:"center",color:R?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":y},m?a.createElement(s.c,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none"},I?a.createElement(s.p,{src:I,alt:b,fit:"cover",naturalWidth:1,naturalHeight:1}):a.createElement("span",null)):a.createElement(s.c,{paddingX:2}),a.createElement(s.c,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},a.createElement(s.K,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold"},T),(N||!R)&&a.createElement(s.c,{alignItems:"center",display:"flex"},O&&a.createElement(r.a,{type:"secret"}),f&&a.createElement(r.a,{type:"group"}),N&&a.createElement(r.a,{type:"sections"})),!N&&R&&!h&&a.createElement(s.c,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4},!d&&a.createElement(s.c,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},a.createElement(s.n,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),a.createElement(s.K,{color:"white",overflow:"normal",size:"md",weight:"bold"},C)),!N&&R&&"loading"===h&&a.createElement(s.c,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},a.createElement(s.G,{accessibilityLabel:i.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0}))))}},"l/PN":function(e,t,n){},mEMi:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("DzJC"),i=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=200,l=({scrollTop:e,clientHeight:t,scrollHeight:n},a)=>{return e+t+(a?a(t):2*t)>n};class d extends r.a.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",i()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&l(this.containerRef,t)&&e()},c))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mvLR:function(e,t,n){function a(e){let t=!1;return{promise:new Promise((n,a)=>{e.then(e=>t?a({isCanceled:!0}):n(e),e=>a(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return a}))},"n+wb":function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("jZhD"),s=n("xdpg"),c=n("Cufx"),l=n("n6mq");function d(e){const{body:t,img:n,onClick:r,selected:i,title:s,username:c,valid:d}=e,u=c||t;return a.createElement(l.c,{marginBottom:4},a.createElement(l.P,{onTouch:r},a.createElement(l.c,{alignItems:"center",direction:"row",display:"flex",width:"100%"},n,a.createElement(l.c,{flex:"grow",marginEnd:2,marginStart:3},a.createElement(l.c,{marginBottom:1},a.createElement(l.K,{truncate:!0,weight:"bold"},s)),a.createElement(l.K,{size:"sm",truncate:!0},u)),a.createElement(l.c,{marginStart:2},((e,t)=>c?e?a.createElement(l.n,{accessibilityLabel:o.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):a.createElement(l.c,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):a.createElement(l.d,{color:"gray",disabled:!!e||Boolean(!t),inline:!0,size:"sm",text:e?o.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):o.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))(i,d)))))}var u=n("zLLH"),h=n("ZE2w");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n){const{id:a}=e;return t===n.findIndex(e=>e.id===a)}t.a=Object(u.c)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource"},{allowStale:!1})(class extends a.Component{constructor(...e){super(...e),p(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),p(this,"isIdSelected",{}),p(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),p(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:a}=this.state,r=a.concat([e]),o="email"===n?h.c:h.d;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:r})}),p(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const a="email"===n?h.c:h.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:a}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],u=(""===e?this.state.selectedCollaborators.concat(n).filter(_):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(s.g)(e)}).concat(n).filter(_)).map((e,t)=>(function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const r=a.createElement(c.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return a.createElement(d,{img:r,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:r,valid:i}=e,c=a.createElement(l.c,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40},a.createElement(l.n,{accessibilityLabel:o.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})),u=Object(s.c)(o.a._("Email {{ email }}"),{email:r});let h,p;return t?(h=o.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),p=()=>void 0):(h=i?o.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):o.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),p=()=>i?n(e):void 0),a.createElement(d,{body:h,img:c,onClick:p,selected:t,title:u,valid:i})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>r.a.createElement("li",{key:t},e));return r.a.createElement(l.c,{direction:"column",display:"flex",height:"100%"},r.a.createElement(l.c,{paddingX:3,paddingY:2},r.a.createElement(l.K,{size:"sm"},o.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create"))),r.a.createElement(l.c,{marginBottom:4,marginTop:2,paddingX:3,width:"100%"},r.a.createElement(l.c,{flex:"grow"},r.a.createElement(i.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e},r.a.createElement(l.D,{accessibilityLabel:o.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:o.a._("Search by name or email"),size:"lg",value:e})))),r.a.createElement(l.c,{overflow:"scrollY",paddingX:3},r.a.createElement("ul",null,u)))}})},oN2T:function(e,t,n){n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return b})),n.d(t,"l",(function(){return I})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"k",(function(){return O})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return N})),n.d(t,"e",(function(){return y}));var a=n("4dcN"),r=n("Pqnw"),o=n("7w6Q"),i=n("eOdZ"),s=n("KFEb"),c=n("5FNA"),l=n("NjDU"),d=n("Wer7");const u="board_create",h="board_delete",p="board_edit";function _(e,t){return Object(d.a)("BoardResource",{board_id:e,field_set_key:t})}function m(){return(e,t)=>{const{viewer:n}=t();n.isAuth&&Object(c.b)(n.username).forEach(t=>{e(t)})}}function E(e){const t={...e};return n=>(n({type:"BOARD_CREATE",payload:{board:e}}),i.a.create("BoardResource",t).callCreate().then(e=>{a.a.trackEvent(u,"success");const r=e.resource_response.data;return r&&(n(m()),n(function(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}(t,r))),r}).catch(e=>{throw a.a.trackEvent(u,"error"),e}))}function b(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function I(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},r={board_id:e.id,name:e.name,description:e.description,category:e.category,event_date:e.event_date,event_start_date:e.event_start_date,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:r}}),i.a.create("BoardResource",r).callUpdate().then(n=>{a.a.trackEvent(p,"success");const o=n&&n.resource_response&&n.resource_response.data||e;t(b(r,o))}).catch(e=>{throw a.a.trackEvent(p,"error"),e})}}function f(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function g(e){return(t,n)=>{const r=n().boards.content[e],{pin_count:o}=r,{id:s}=r.owner;return t({type:"BOARD_DELETE",payload:{boardId:e}}),i.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{a.a.trackEvent(h,"error"),t(f(e)),t(Object(l.b)({userId:s,increment:-o}))}).catch(e=>{throw a.a.trackEvent(h,"error"),e})}}function S(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function T(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function O(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function R(e,t){return n=>i.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(f(e)),n(_(t,"pin_count")),n(Object(r.a)(s.a.BOARD_SECTIONS,t))]))}function N(e,t){return n=>i.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const a=e.resource_response.data||{},r=(a.model||{}).custom_properties||{},{campaign_id:i="unknown"}=r,s=a.display_data||{},c={isSocialSeasonalBoard:!!a.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return o.default.increment(`web.seasonal_board.${i}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function y(){return e=>{return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},pdBG:function(e,t,n){var a=n("AHhP"),r=n.n(a),o=n("gx0O"),i=n("eOdZ"),s=n("mBfy");const c=function(e){e=e||{},this.tags=e.tags,this.enable_recent_queries=!!e.enable_recent_queries,this.minimum_term_character_length=e.minimum_term_character_length||0,this.bypass_lru_cache=e.bypass_lru_cache;const t={tags:e.tags,pin:e.pin_id},n=e.num_places;n?t.num_places=n:t.count="count"in e?e.count:5,e.exclude_non_followers&&(t.exclude_non_followers=!0),e.field_set_key&&(t.field_set_key=e.field_set_key),e.pin_scope&&(t.pin_scope=e.pin_scope),e.suggestion_type&&(t.suggestion_type=e.suggestion_type);let a="TypeaheadResource";e.resource_name&&(a=e.resource_name),this.searchResource=i.a.create(a,t),this.itemsCache=new o.a};Object.assign(c.prototype,r.a),Object.assign(c.prototype,{search(e,t){let n;if(!e&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&s.default.isLimitedLogin())return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&this.enable_recent_queries&&s.default&&s.default.isAuthenticated())n="recent_search";else{const n=this.bypass_lru_cache?{}:this.itemsCache.get(e);if(n){const a=n.items;if(a&&a.length){this.abortSearch();const r=n.hint;return void this.publishData(e,a,r,t)}}}e.length>=this.minimum_term_character_length?this.fetch(e,n,t):this.publishData(e,[],{},t)},getResource(){return this.searchResource},abortSearch(){this.getResource().abort()},publishData(e,t,n,a){const r={term:e,items:t,hint:n};this.trigger("data",r),a&&a(r)},setAutocompleteScope(e){this.getResource().set("autocompleteScope",e)},fetch(e,t,n){const a=this.getResource();if(a.isCalling()){const t=a.get("term");if(e===t)return;this.abortSearch()}""!==this.tags&&(a.set("term",e),a.set("tags",t||this.tags),a.resetBookmark(),a.callGet({showError:!1}).then(t=>{const a=t.resource_response.data,r=a.items,o=a.hint||{},i={hint:o,items:r};this.cacheData(e,i),this.publishData(e,r,o,n)},e=>{this.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm(e){this.itemsCache.remove(e)},cacheData(e,t){this.itemsCache.set(e,t)},prefetch(){if(this.warm)return;i.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0}}),t.a=c},qyR9:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("jdx6"),i=n("gONw"),s=n("Ye/N"),c=n("gdcG"),l=n("n6mq");var d=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:r,hasHoverState:o,hoverHandlers:i,name:c,onClick:d}=e,u=c||t||s.a._("Create board");return a.createElement(l.P,{onMouseEnter:i.onMouseOver,onMouseLeave:i.onMouseLeave,onTouch:d},a.createElement(l.c,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:r?"shrink":"none",height:64,width:"100%"},a.createElement(l.c,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton"},a.createElement(l.n,{accessibilityLabel:s.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),c?a.createElement(l.c,{margin:1},a.createElement(l.K,{inline:!0,overflow:"normal"}," ",s.a._("Create: ")," ")):null,a.createElement(l.K,{align:"center",inline:!0,truncate:!0,weight:"bold"}," ",u," ")))})),u=n("9QW3"),h=n("NdQN"),p=n("IBrh"),_=n("oTtT");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));const E="",b=2;class I extends a.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:E}),m(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),m(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),m(this,"renderSectionHeader",(e,t)=>e.title?r.a.createElement(l.c,null,t>0&&r.a.createElement(l.j,null),r.a.createElement(l.c,{paddingX:3,paddingY:1},r.a.createElement(l.K,{size:"md"},e.title))):null),m(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:a,isSelectMode:i,disabledRowId:s}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,d=a&&a.board===e.id?a&&a.state:null,u="board_section"===e.type;return r.a.createElement(o.a,{isSelectMode:i,disabled:e.id===s&&l,item:e,isSection:u,isWithinSectionPicker:l,saveState:d,searchQuery:c,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:a,isLoaded:o,onCreate:c,pinId:_}=this.props;if(o){const{searchQuery:o}=this.state,s=a(o);return this.indexManager=new u.a(s.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),r.a.createElement(l.c,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!n&&r.a.createElement(l.c,null,r.a.createElement(l.c,{paddingX:3,marginBottom:4,marginTop:1},r.a.createElement(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})),r.a.createElement(l.j,null)),r.a.createElement(p.a,{disabled:!!e,grow:!n&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:s}),r.a.createElement(l.j,null),c&&r.a.createElement(d,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>c(o)}),n&&_&&r.a.createElement(i.a,{onBoardSelected:c,pinId:_}))}return r.a.createElement(l.c,{paddingY:5},r.a.createElement(l.G,{accessibilityLabel:s.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}function f(e){const t=Object(_.b)();return r.a.createElement(I,Object.assign({},e,{boardPickerStopwatch:t}))}},rO08:function(e,t,n){n.r(t),n.d(t,"PinSaveButton",(function(){return T}));var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=(n("l/PN"),n("Ye/N")),s=n("TiQD"),c=n("rYoy"),l=n("y9Ij"),d=n("dMCU"),u=n("n02X"),h=n("2qKt"),p=n("n6mq"),_=n("0nTG"),m=n("lm6u"),E=n("B6Tf"),b=n("oTtT"),I=n("fArA");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=Object(a.lazy)(()=>n.e("FirstPinCreateCommon").then(n.bind(null,"kj35"))),S=[500639,11022];class T extends a.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this._repinCompletionPromise&&this._repinCompletionPromise.cancel()}),f(this,"setCompletionPromise",e=>{this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(()=>{this.handleRepinHideAndToggle()})}),f(this,"_repinCompletionPromise",null),f(this,"handleRepinHide",()=>{this.setState({isRepinModalOpen:!1})}),f(this,"handleRepinHideAndToggle",()=>{this.setState({isRepinModalOpen:!1});const{onToggleModal:e}=this.props;e&&e(!1)}),f(this,"handleSaveButtonClick",this.props.authAction(e=>{e&&(e.preventDefault(),e.stopPropagation());const{onClickCallback:t,onToggleModal:n,oneTapSave:a,boardPickerStopwatch:r}=this.props;t&&t(),a?a.saved||"function"!=typeof a.save||a.save():(r&&r.start(),n&&n(!0),this.setState({isRepinModalOpen:this.props.isAuth}))})),f(this,"saveButtonRef",Object(a.createRef)()),f(this,"renderPinToBoardRepin",()=>{const{isCloseupPin:e,onToggleModal:t,pin:n}=this.props,{isFPE:a,isRepinModalOpen:o}=this.state;return o&&a?this.renderFPE():a?null:r.a.createElement(m.a,{action:"repin",additionalCreateFields:{is_stl_pin:Object(_.f)(n)},onClose:this.handleRepinHide,setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,onToggleModal:t,pin:n},({dismissModal:a,displaySuccessAnimation:i,handleAbort:s,handleNewBoardAnimationCompletion:c,handleSocialConnectSet:l,handleSaveToBoard:d,newPin:u,updateDescription:h,modalTitle:p,setModalTitle:_})=>r.a.createElement(E.b,{dismissModal:a,displaySuccessAnimation:i,handleSocialConnectSet:l,handleSaveToBoard:d,anchorRef:this.saveButtonRef.current,handleAbort:s,handleNewBoardAnimationCompletion:c,newPin:u,isCloseupPin:e,isInModal:!0,onToggleModal:t,pin:n,pwtAuxData:{pin_create_method:"repin"},modalTitle:p,setModalTitle:_,shouldRenderContent:o,updateDescription:h}))});const{experience:t,showRepinOnInitialRender:n}=e;this.state={isFPE:!!t&&S.includes(t.experience_id),isRepinModalOpen:n||!1}}componentDidMount(){const{onMount:e}=this.props;e&&e()}shouldComponentUpdate(e,t){return!this.isFPERemoved(e)}isFPERemoved(e){const{isFPE:t}=this.state,{experience:n}=e;return t&&(!n||!S.includes(n.experience_id))}renderFPE(){const{completePinSave:e,experience:t,pin:n}=this.props;return r.a.createElement(s.b,{accessibilityModalLabel:i.a._("Create board","Accessible create board education modal label","Accessible create board education modal label"),footer:r.a.createElement("div",{className:"FirstBoardCreate__education"},i.a._("Boards are where you save your Pins","Text explaining that boards are used to collect and save pins","Text explaining that boards are used to collect and save pins")),heading:i.a._("Create board","Create board education modal label","Create board education modal label"),onDismiss:this.handleRepinHideAndToggle,size:"lg"},r.a.createElement(c.a,null,r.a.createElement(g,{anchorRef:this.saveButtonRef.current,experience:t,isInModal:!0,onClose:this.handleRepinHideAndToggle,onComplete:e,pin:n,pwtAuxData:{pin_create_method:"repin"}})))}render(){const{anchorString:e,icon:t,iconOnly:n,oneTapSave:o,renderPinSaveTooltip:i,variant:s}=this.props,c=Object(u.a)(e||"")(l.a);return r.a.createElement(a.Fragment,null,r.a.createElement(p.c,{ref:this.saveButtonRef},r.a.createElement(c,{icon:t,onClick:this.handleSaveButtonClick,saved:o&&"controlled"===o.type&&o.saved,iconOnly:n,isPulsarDisplayed:!this.state.isRepinModalOpen,variant:s}),this.renderPinToBoardRepin()),!!i&&this.saveButtonRef.current&&i(this.saveButtonRef.current))}}f(T,"defaultProps",{anchorString:""}),t.default=Object(I.compose)(Object(o.connect)((function({viewer:e}){return{email:e.isAuth?e.email:void 0,isAuth:e.isAuth}}),(function(e){return{completePinSave:()=>e({type:"COMPLETE_PIN_SAVE"})}})),d.a,Object(h.a)(33))((function(e){const t=Object(b.b)();return r.a.createElement(T,Object.assign({},e,{boardPickerStopwatch:t}))}))},vxan:function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=n("mvLR");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t,n;return n=t=class extends a.Component{constructor(...e){super(...e),o(this,"makeCancelablePromise",(e,t)=>{if(t){const e=this.cancelCallbackMap[t];e&&(e(),delete this.cancelCallbackMap[t])}const{cancel:n,promise:a}=Object(r.a)(e);return t?this.cancelCallbackMap[t]=n:this.cancelCallbacks.push(n),a}),o(this,"cancelCallbacks",[]),o(this,"cancelCallbackMap",{})}componentWillUnmount(){[...Object.keys(this.cancelCallbackMap).map(e=>this.cancelCallbackMap[e]),...this.cancelCallbacks].forEach(e=>e()),this.cancelCallbacks=[],this.cancelCallbackMap={}}render(){return a.createElement(e,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}},o(t,"displayName",`WithPromiseCancellation(${e.displayName||e.name||"Component"})`),n}},"w/op":function(e,t,n){},w70y:function(e,t,n){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return _}));var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("lSCD"),s=n.n(i),c=n("aK+E"),l=n("zLLH"),d=n("y19s"),u=n("Wer7");const h={};function p({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:r,options:i,name:s,headers:p,traceLoggerHandlerName:_}){const m=Object(o.useDispatch)(),E=Object(c.a)(i),b=Object(a.useRef)(),I=e=>(e[s]||h)[E]||h,{isPrefetch:f,nextBookmark:g,prefetchHasBeenRead:S}=Object(o.useSelector)(({resources:e})=>I(e.data)),T=Object(o.useSelector)(({resources:e})=>I(e.data).data),O=Object(o.useSelector)(({resources:e})=>I(e.data).error),R=Object(o.useSelector)(({resources:e})=>Boolean((e.fetching[s]||h)[E])),N=Object(o.useSelector)(({resources:e})=>Boolean((e.data[s]||h)[E])),{history:y}=Object(d.b)(),C=y&&"POP"!==y.action,v=Boolean(N&&n&&C&&!r),[D,P]=Object(a.useState)(v);void 0===b.current&&N&&C&&e&&f&&!S&&!r&&m(Object(u.h)(s,i));const A=Object(a.useCallback)(()=>{r||m(Object(u.a)(s,i,p,_))},[r,m,p,s,E,_]),B=Object(a.useCallback)(()=>{r||m(Object(u.d)(s,i,p,_))},[r,p,s,E,_]),w=Object(a.useCallback)(()=>{r||(A(),P(!0))},[r,A,P]),M=Object(a.useRef)({data:void 0,error:void 0,fetchMore:B,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refreshData:w});Object(a.useEffect)(()=>{!1!==t&&N&&!v||A()},[]),Object(a.useEffect)(()=>{void 0!==b.current&&E!==b.current&&A(),b.current=E},[E]);const x={data:T,error:O,fetchMore:B,isAtEnd:N&&!R&&g===l.a,isFetching:R,isLoaded:N,isPrefetch:f,isRefreshing:D,nextBookmark:g,prefetchHasBeenRead:S,refreshData:w};return Object(o.shallowEqual)(x,M.current)||(!D||v||Object(o.shallowEqual)(x.data,M.current.data)||(x.isRefreshing=!1,P(!1)),M.current=x),M.current}function _(e){const t=e.key;return function(n){function a(a){const{dangerouslyDisableFetch:o,options:i,key:c,...l}=e,d=p({...l,options:(s()(i)?i(a):i)||{},dangerouslyDisableFetch:!!o&&o(a)}),u={[t]:d};return r.a.createElement(n,Object.assign({},a,u))}return a.displayName=`withResourceExperimental[${e.name}](${n.displayName||n.name||""})`,a.WrappedComponent=n,a}}},y9Ij:function(e,t,n){n.d(t,"a",(function(){return p}));var a=n("q1tI"),r=n.n(a),o=(n("PNKV"),n("TSYQ")),i=n.n(o),s=n("lUXN"),c=n("Ye/N"),l=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=32,h=13;class p extends r.a.PureComponent{constructor(...e){super(...e),d(this,"handleKeyPress",e=>{e.charCode!==u&&e.charCode!==h||(e.preventDefault(),this.props.onClick(e))})}render(){const{disabled:e,icon:t,iconOnly:n,onClick:a,saved:o,variant:d}=this.props;return o?r.a.createElement(l.d,{disabled:!0,text:c.a._("Saved"),size:"sm"}):n?r.a.createElement("div",{"data-test-id":"SaveButton"},r.a.createElement(l.o,{accessibilityLabel:c.a._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>a(e),iconColor:"darkGray"})):r.a.createElement("div",{className:i()("SaveButton",e?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===d}),"data-test-id":"SaveButton",onClick:e?void 0:a,onKeyPress:e?void 0:this.handleKeyPress,role:"button",tabIndex:"0"},r.a.createElement("div",{className:i()("SaveButton__background",e?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===d})},r.a.createElement(l.c,{alignItems:"center",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex"},r.a.createElement(s.a,{name:"web_save_button_no_icon"},({anyEnabled:n})=>t&&!n&&r.a.createElement(l.c,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},r.a.createElement(l.n,{accessibilityLabel:"",color:e?"gray":"white",icon:"pin",inline:!0,size:20}))),r.a.createElement(l.K,{color:e?"gray":"white",size:"lego"===d?"sm":"md",weight:"bold"},r.a.createElement("span",{className:i()("SaveButton__label",{"SaveButton__label--lego":"lego"===d})},c.a._("Save","Pin save button label","Pin save button label"))))))}}d(p,"defaultProps",{disabled:!1,icon:!0,variant:"classic"})}},0,[5,19,21,"PinBetterSaveCommon","PinRepEditButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/pjs-PinSaveButtonCommon-03c7bd869cf1c1dc1025.mjs.map
